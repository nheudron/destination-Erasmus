{% extends "base.html.twig" %}

{% block stylesheets %}
	<link rel="stylesheet" href="/css/admin.css">
{% endblock %}

{% block title %}
	Administration des destinations
{% endblock %}

{% block main %}
	<div class="title">
		<h2>Administration des destinations</h2>
	</div>

	<div class="createUnivWrapper">
		<div class="createUniv">
			<h3 onclick="updateForm()">
				<i class="fas fa-plus-circle"></i>
				Ajouter une université</h3>
		</div>
	</div>

	{% for univ in univs %}
		<section class="destList">
			<div class="destination">
				<header>
					<a href="{{ path('dest', { 'univId': univ.id }) }}">
						<h4>
							<i class="fas fa-globe-europe"></i>
							{{ univ.name }}</h4>
					</a>
					<a class="changeuniv" id="univ{{univ.id}}" onclick="updateForm(this)">
						<i class="fas fa-pen"></i>
					</a>
				</header>
				<main>
					<p>Country: {{ univ.univCity.cityCountry.name }}<span class="right">Language:
							{{ univ.language }}</span>
					</p>
					<p>City: {{ univ.univCity.name }}<span class="right">Available places:
							{{ univ.availablePlaces }}</span>
					</p>
					<p>Formation:</p>
					<p>Maujeure:</p>
					<p>Lessons:</p>
				</main>
			</div>
		</section>
	{% endfor %}
	<div id="formWrapper">
		<div id="formUpdatingUniv" class="active">
			<form action="#" onsubmit="updateUniv(this);return false">
				<div class="leftrightwrapper">
					<div class="formleft">
						<input type="hidden" name="id" id="modifUnivId">
						<input type="text" name="name" id="modifUnivName" placeholder="Nom de l'université" required value="efzef">
						<input type="text" name="city" id="modifUnivCity" placeholder="Ville" required value="efzef">
						<input type="text" name="country" id="modifUnivCountry" placeholder="Pays" required value="efzef">
						<input type="text" name="prerequisite" placeholder="Prérequis, laisser vide pour aucun">
					</div>
					<div class="formright">
						<fieldset id="languagechoice">
							<legend>Langue :</legend>
							<label for="en">Anglais</label>
							<input type="radio" name="language" id="en" value="en" checked>
							<label for="de">Allemand</label>
							<input type="radio" name="language" id="de" value="de">
							<label for="es">Espagnol</label>
							<input type="radio" name="language" id="es" value="es">
						</fieldset>
						<label for="dormitoriescb">Dormitories disponibles</label>
						<input type="checkbox" name="dormitories" id="dormitoriescb">
					</div>
				</div>
				<div class="majeureTitle">
					<p class="left">Majeures</p>
					<p class="right">Majeures assurées</p>
				</div>
				<div id="majeures"></div>
				<button type="button" id="addMajeure" onclick="updateMajeureList()">Ajouter une majeure</button>
				<div class="addcancel">
					<button type="button" onclick="updateForm()">Annuler</button>
					<button type="submit" id="submitForm">Ajouter</button>
				</div>
				<div id="majeuresHiddenDetails"></div>
			</form>
		</div>
		<div id="changeMajeureCourses">
			<label for="filiere">Filiere :</label>
			<select name="filiereList" id="filiere">
				<option value="IR">IR</option>
				<option value="SEP">SEP</option>
			</select>
			<label for="majeure">Majeure :</label>
			<select name="majeureList" id="majeure">
				{% for branch in branchList %}
					<option>{{ branch.name }}</option>
				{% endfor %}
			</select>
			<br>
			<label for="nbPlaces">Nombre de place :</label>
			<input type="number" id="nbPlaces" placeholder="XX" required value="85">
			<div class="courseTitle">
				<p class="left">Matières</p>
				<p class="right">Matières assurées</p>
			</div>
			<div id="courses">
				<div class="coursescontent">
					<div class="left">
						<input type="text" class="courseName" placeholder="Nom de la matière" required value="efzef">
						<input type="number" class="courseHours" placeholder="Heure" required value="845">
						<input type="number" class="courseECTS" placeholder="ECTS" required value="52">
					</div>
					<div class="right">
						<input type="checkbox" class="courseActive" checked>
					</div>
				</div>
			</div>
			<button type="button" id="addCourse" onclick="addCourseToList()">Ajouter une matière</button>
			<div class="addcancel">
				<button type="button" onclick="updateMajeureList()">Annuler</button>
				<button type="button" id="submitMajeure" onclick="addMajeureToUniv()">Ajouter</button>
			</div>
		</div>
	</div>
{% endblock %}
{% block javascripts %}
	<script src="/js/admin.js"></script>
{% endblock %}
